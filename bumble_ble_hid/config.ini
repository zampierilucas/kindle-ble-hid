# Kindle BLE HID Configuration
# This file contains all configurable parameters for the BLE HID daemon

[paths]
# Base installation path (all other paths are relative to this)
base_path = /mnt/us/bumble_ble_hid

# Cache directory for GATT characteristics and pairing keys
cache_dir = %(base_path)s/cache

# Scripts directory for button action scripts
scripts_dir = %(base_path)s/Scripts

# Button configuration file
button_config = %(base_path)s/button_config.json

# Device addresses configuration
devices_config = %(base_path)s/devices.conf

# Pairing keys storage
pairing_keys = %(cache_dir)s/pairing_keys.json

# Reading end script (executed on disconnection)
reading_end_script = %(scripts_dir)s/readingEnd.sh

[connection]
# Delay in seconds between reconnection attempts
reconnect_delay = 5

# Maximum time in seconds for entire connection cycle
# If exceeded, BT hardware may be asleep
connection_timeout = 90

# HCI Reset command timeout in seconds
hci_reset_timeout = 10

# Connection attempt timeout in seconds
connect_timeout = 30

# Maximum consecutive timeout failures before extended delay
max_consecutive_timeouts = 3

# Backoff multiplier for extended delays (used when max_consecutive_timeouts is reached)
extended_delay_multiplier = 2

[transport]
# HCI transport specification
transport_spec = file:/dev/stpbt

[buttons]
# Debounce time in milliseconds (prevent double-presses)
debounce_ms = 300

# Log all button presses to console/log
log_presses = true

[logging]
# Log file location
log_file = /var/log/ble_hid_daemon.log

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
log_level = INFO

# Suppress verbose Bumble library logs
bumble_log_level = WARNING
